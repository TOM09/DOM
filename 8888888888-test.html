<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			ul{
				margin:0;
				padding:0;
				list-style: none;
				width:100px;
				border: 1px solid #000;
				position: absolute;
				display: none;
			}
		</style>
	</head>
	<body>
		<ul id="list">
			<li>菜单1</li>
			<li>菜单2</li>
			<li>菜单3</li>
			<li>菜单4</li>
			<li>菜单5</li>
			<li>菜单6</li>
		</ul>
		<script type="text/javascript">
		document.oncontextmenu = function(ev){
		//获取ul  当点击右键时候阻止默认菜单,显示ul
			//阻止默认右键菜单
		ev.preventDefault();
		var list = document.getElementById("list");
		//ul的左边最大值是可视范围内的宽或高  - 菜单本身的宽高
		var maxL = innerWidth - list.offsetWidth;
		var maxT = innerHeight - list.offsetHeight;
		
		//三目  判断鼠标的x位置是否大于最大宽度,如果是,l就等于最大宽度 如果不是  就等于鼠标的位置
		//三目  判断鼠标的y位置是否大于最大高度,如果是,t就等于鼠标位置 - ul高度 如果不是  就等于鼠标的位置
		var l = ev.clientX > maxL?maxL:ev.clientX;
		var t = ev.clientY > maxT?ev.clientY-list.offsetHeight:ev.clientY;
				//显示自定义菜单
				list.style.display = "block";
				//限制范围
				list.style.left = l +"px";
				list.style.top = t +"px";
				
				//右边超过最大值，等于最大值
				//下边超过最大值，鼠标位置-菜单高度
				//如果点的不是菜单上，菜单消失
		}
		document.onclick = function(ev){
			if(ev.target.parentNode != list){
				list.style.display = "";
			}
		}
				
		</script>
	</body>
</html>
