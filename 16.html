<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			#pages{
				margin:0;
				padding:0;
				list-style: none;
			}
			#pages li{
				width: 50px;
				height: 50px;
				border:1px solid #000;
				line-height: 50px;
				text-align: center;
				float: left;
				margin-right:5px;
			}
		</style>
	</head>
	<body>
		<input type="button" value="西部"/>
		<input type="button" value="东部"/>
		<p id="p"></p>
		<ol id="list"></ol>
		<ul id="pages">
		
		</ul>
		<script type="text/javascript">
			var data = {
				index: [
					'west', 'east'
				],

				west: [{
					name: '库里'
				}, {
					name: '哈登'
				}, {
					name: '伦纳德'
				}, {
					name: '保罗'
				}, {
					name: '加索尔'
				}],
				east: [{
					name: '詹姆斯'
				}, {
					name: '欧文'
				}, {
					name: '乔治'
				}, {
					name: '韦德'
				}, {
					name: '韦德'
				}]
			};

			//	思路:hash根据li的索引值变化, 数据内容根据hash 的值变化

			//定义一个长度 为4 (每页条数)
			//定义一个函数:
			//分割hash值
			//如果有hash,定义page =    hash最后的值
			//否则就定义page默认为第一面.
			//
			/*定义start = 显示数据的开始位置start，和结束位置end
			
			//如果 结束的条数 > 数据的长度
			就让它们相等  渲染页面
			
			//生成页码 
			定义num = 页数  ( 总条数/每页条数)
			
			循环页码,创建底部页码.  让li的索引 = i+1
			当li点击时, hash值 = "p="+li的索引
			
			把li添加到页面中
			
			当hash改变时,调用fn();
			*/

			//1,获取东西部 两个按钮   p显示标签 列表标签
			//2,判断信息,如果有search,那么如果s=w 就让数据变为西部的  p标签变为西部  反之为东部
			//3,如果没有s  就让数据默认为西部数据
			//4.渲染页面
			//空字符str  循环数据,空字符 += 每个姓名
			//让list的内容 = 字符
			//当点击西部时候,让search = w  东部的时候 = e

			var inpt = document.getElementsByTagName("input");
			console.log(inpt)
			var pages = document.getElementById('pages');
			var p = document.getElementById("p");
			var list = document.getElementById("list")
			var s = location.search.substr(1).split("=")[1];
			var Data = [];

			if(s) {
				if(s == 'w') {
					Data = data.west;
					p.innerHTML = "西部";
				} else {
					Data = data.east;
					p.innerHTML = "东部";
				}
			} else {
				Data = data[data.index[0]];
				p.innerHTML = "西部";
			}

			//渲染页面
			var num = 4;
			fn();

			function fn() {
				var hs = location.hash.substr(1).split('=')[1];
				if(hs) {
					var page = hs;
				} else {
					page = 1;
				}

				var start = (page - 1) * num;
				var end = start + num;

				if(end > Data.length) {
					end = Data.length;
				}
				var str = "";
				for(var i = start; i < end; i++) {
					str += '<li>' + Data[i].name + '</li>';
				}
				list.innerHTML = str;
			}
			
			var num2 = Math.ceil(Data.length/num);
			for (var i = 0; i < num2; i++) {
				var li = document.createElement("li");
				li.innerHTML = i+1;
				li.onclick = function(){
					location.hash = "p="+this.innerHTML;
				}
			pages.appendChild(li);
			}

			window.onhashchange = function(){
				fn();
			}

			inpt[0].onclick = function() {
				location.search = "asdfasfdasdfsadfsadf=w";
			}
			inpt[1].onclick = function() {
				location.search = "asfdasdfasdfasd=1";
			}
		</script>
	</body>

</html>